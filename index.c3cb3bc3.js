function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in i)return i[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n),n.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}})),n.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),n.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),n.register("3LGG3",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}}));const s={body:document.body,headerContainer:document.querySelector("#header"),headerLogo:document.querySelector("#logo"),headerLogoName:document.querySelector("#logo-name"),headerHomeBtn:document.querySelector("#home"),headerMyLibBtn:document.querySelector("#my-library"),collectionsBtnsContainer:document.querySelector("#collections-nav"),collectionWatchedBtn:document.querySelector("#watched"),collectionQueueBtn:document.querySelector("#queue"),searchFormContainer:document.querySelector("#search-form-container"),searchForm:document.querySelector("#search-form"),libraryContainer:document.querySelector("#library"),backdrop:document.querySelector("#backdrop-modal-card"),modalContainer:document.querySelector("#modal"),modalAddToWatchedBtn:document.querySelector("#watched-add"),modalAddToQueueBtn:document.querySelector("#queue-add"),modalCloseBtn:document.querySelector("#modal-close"),teamLink:document.querySelector("#team"),paginator:document.querySelector("#paginator"),languageSelector:document.querySelector("#language"),themeButton:document.querySelector("theme"),modalOpenMovie:document.querySelector("#modal-open-movie"),spinner:document.querySelector("#spinner")},o={default:{buttons:{home:"home",library:"my library",watched:"watched",queue:"queue",addToWatched:{add:"add to Watched",remove:"remove from Watched"},addToQueue:{add:"add to queue",remove:"remove from Queue"}},logoName:"Filmoteka",searchPlaceholder:"Search movies",notifications:{searchFault:"Sorry, there are no movies, matching your search query. Please try again.",searchMinLength:"Please, enter at least two symbols to start search.",searchRestricted:"Please, do not enter any special characters.",technicalFault:"Oops (( looks, like some technical troubles occured.",collecionEmpty:"Looks like you vave not add any movie to this collection, yet.",languageNotify:"Цей сайт доступний також укріїнською мовою"},movieDetails:{vote:"Vote",votes:"Votes",popularity:"Popularity",title:"Original Title",genre:"Genre",about:"About",other:"Other",poster:"Poster"},copyright:"All Rights Reserved",developedWidth:"Developed with"},ukrainian:{buttons:{home:"головна",library:"моя фільмотека",watched:"переглянуті",queue:"у черзі",addToWatched:{add:"додати до переглянутих",remove:"видалити з переглянутих"},addToQueue:{add:"додати до черги",remove:"видалити з черги"}},logoName:"Фільмотека",searchPlaceholder:"Пошук фильмів",notifications:{searchFault:"Нажаль, немає фільмів, відповідаючих вашому запиту. Будь ласка, спробуйте ще раз.",searchMinLength:"Будь ласка, введіть хоча б два символи для початку пошуку.",searchRestricted:"Будь ласка, не використовуйте будь-які спеціальні символи.",technicalFault:"От халепа (( схоже, сталась якась технічна проблема.",collecionEmpty:"Схоже, ви покищо не додали жодного фильму до цієї коллекції."},movieDetails:{vote:"Голос",votes:"Голоси",popularity:"Популярнісь",title:"Оригінальна назва",genre:"Жанр",about:"Опис",other:"Інші",poster:"Постер"},copyright:"Всі права захищено",developedWidth:"Розроблено із"}},r={watched:"watched",queue:"queue"};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t){var i=c.default(e,t,"get");return d.default(e,i)};var c=h(n("fExtF")),d=h(n("iaRLo"));function h(e){return e&&e.__esModule?e:{default:e}}var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,t,i){m.default(e,t),t.set(e,i)};var g,m=(g=n("7K24o"))&&g.__esModule?g:{default:g};var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=function(e,t,i){var a=p.default(e,t,"set");return f.default(e,a,i),i};var p=w(n("fExtF")),f=w(n("3LGG3"));function w(e){return e&&e.__esModule?e:{default:e}}var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i};var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(e,t){_.default(e,t),t.add(e)};var _=function(e){return e&&e.__esModule?e:{default:e}}(n("7K24o"));var k=new WeakMap;class M{showSpinner(){e(l)(this,k).classList.remove("js-hidden")}hideSpinner(){e(l)(this,k).classList.add("js-hidden")}constructor(){e(u)(this,k,{writable:!0,value:void 0}),e(v)(this,k,s.spinner)}}var L=new WeakMap,S=new WeakMap,P=new WeakMap,W=new WeakMap,E=new WeakSet,$=new WeakSet,C=new WeakSet;class T{async getGenres(){const t=`${e(l)(this,S)}/${this.URL_PARAMETERS.genres}?api_key=${e(l)(this,L)}&language=${e(l)(this,P)}`,i=await e(y)(this,E,q).call(this,t);this.genres=i.genres}async getTrendingMovies({page:t=1}){const i=`${e(l)(this,S)}/${this.URL_PARAMETERS.trending}?api_key=${e(l)(this,L)}&page=${t}&language=${e(l)(this,P)}`,a=await e(y)(this,E,q).call(this,i);return e(y)(this,$,x).call(this,a.results),a}async searchMovies({query:t,page:i=1}){const a=`${e(l)(this,S)}/${this.URL_PARAMETERS.search}?api_key=${e(l)(this,L)}&language=${e(l)(this,P)}&query=${t}&page=${i}&include_adult=false`,n=await e(y)(this,E,q).call(this,a);return e(y)(this,$,x).call(this,n.results),n}async getMovie({movieId:t}){const i=`${e(l)(this,S)}/${this.URL_PARAMETERS.movieDetails}/${t}?api_key=${e(l)(this,L)}&language=${e(l)(this,P)}`,a=await e(y)(this,E,q).call(this,i);return e(y)(this,C,B).call(this,a),a}async getMoviesBundle({bundle:e,page:t=1,total_pages:i=1}){const a=e.map((e=>this.getMovie({movieId:e})));return{results:await Promise.all(a),page:t,total_pages:i}}setCurrentLanguage({language:t}){e(v)(this,P,Object.values(this.LANGUAGES).includes(t)?t:this.LANGUAGES.default),this.getGenres()}constructor({language:t="default"}){e(b)(this,E),e(b)(this,$),e(b)(this,C),e(u)(this,L,{writable:!0,value:void 0}),e(u)(this,S,{writable:!0,value:void 0}),e(u)(this,P,{writable:!0,value:void 0}),e(u)(this,W,{writable:!0,value:void 0}),e(v)(this,L,"704d5b04a49684ea4810e36d12ae79df"),e(v)(this,S,"https://api.themoviedb.org/3"),this.URL_PARAMETERS={trending:"trending/movie/day",search:"search/movie",movieDetails:"movie",genres:"genre/movie/list"},this.LANGUAGES={default:"en-US",ukrainian:"uk-UA"},this.genres=null,e(v)(this,W,new M),this.setCurrentLanguage({language:this.LANGUAGES[t]})}}async function q(t){e(l)(this,W).showSpinner();const i=await fetch(t);if(!i.ok)throw new Error(i.status);const a=await i.json();return e(l)(this,W).hideSpinner(),a}function x(e){e.forEach((e=>{e.genre_ids=e.genre_ids.map((e=>this.genres.find((t=>t.id===e)).name)),e.genres=e.genre_ids,delete e.genre_ids}))}function B(e){e.genres=e.genres.map((e=>e.name))}var j=new WeakMap;class A{save(t){try{const i=JSON.stringify(t);localStorage.setItem(e(l)(this,j),i)}catch(e){console.log("Set state error:",e.message)}}load(){try{let t=localStorage.getItem(e(l)(this,j));return t=null===t?void 0:JSON.parse(t)}catch(e){console.log("Get state error:",e.message)}}remove(){localStorage.removeItem(e(l)(this,j))}constructor(t){e(u)(this,j,{writable:!0,value:void 0}),e(v)(this,j,t)}}var O=new WeakMap,R=new WeakMap,H=new WeakSet;class N extends A{getPreferences(){return e(l)(this,O)}setLanguage({language:t}){e(l)(this,O).language=t,this.save(e(l)(this,O))}setTheme({theme:t}){e(l)(this,O).theme=t,this.save(e(l)(this,O))}getIsUserNew(){return e(l)(this,R)}constructor(t){super(t),e(b)(this,H),e(u)(this,O,{writable:!0,value:void 0}),e(u)(this,R,{writable:!0,value:void 0}),e(y)(this,H,I).call(this)}}function I(){e(v)(this,O,this.load()),e(l)(this,O)||(e(v)(this,O,{language:"default",theme:"default"}),e(v)(this,R,!0),this.save(e(l)(this,O))),e(v)(this,R,!1)}var F={};Object.defineProperty(F,"__esModule",{value:!0}),F.default=function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i;return e};var D=new WeakMap,U=new WeakMap,G=new WeakMap,Q=new WeakSet,K=new WeakSet;function z(){e(v)(this,D,this.load()),e(l)(this,D)||(e(v)(this,D,{}),e(l)(this,G).forEach((t=>{e(l)(this,D)[t]=[]})));const t=Object.keys(e(l)(this,D));e(l)(this,G).forEach((t=>{e(l)(this,D)[t]=e(l)(this,D)[t]?e(l)(this,D)[t]:[]})),t.forEach((t=>{e(l)(this,U)[t]=Math.ceil(e(l)(this,D)[t].length/this.perPage)}))}function J(){this.save(e(l)(this,D))}var V=new WeakMap,Y=new WeakMap,X=new WeakMap;class Z{static getImagePath({path:e,width:t}){const i=Object.keys(this.width).includes(t)?this.width[t]:this.width.default;return`${this.BASE_URL}${i}${e}`}}e(F)(Z,"BASE_URL","https://image.tmdb.org/t/p/"),e(F)(Z,"width",{default:"w342",retina:"w780",original:"original"});let ee=new N("userPreferences").getPreferences().language;function te({overview:e,poster_path:t,title:i,original_title:a,vote_average:n,vote_count:s,popularity:r,genres:l,homepage:c}){const d=`${Z.getImagePath({path:t})}, 1x, ${Z.getImagePath({path:t,width:"retina"})}, 2x`,h=o[ee].movieDetails.vote,u=o[ee].movieDetails.votes,g=o[ee].movieDetails.popularity,m=o[ee].movieDetails.title,v=o[ee].movieDetails.genre,p=o[ee].movieDetails.about;o[ee].buttons.addToWatched,o[ee].buttons.addToQueue;return`\n\n        <div class="modal-card-thumb__img" >  \n        \n            <picture class="modal-card__picture">                \n                <source srcset="${d}" type="image/jpeg" class="modal-card__picture--source">\n                <img src="${Z.getImagePath({path:t})}" alt="${i}" loading="lazy" class="modal-card__img" type="image/jpeg" id="img-in-modal-card-picture"/>\n            </picture>           \n            \n        </div>\n            \n        <div class="modal-card-thumb__content">\n            <div class="modal-card-info">\n                <h2 class="modal-card-info__title">${i}</h2>\n                <div class="modal-card__thumb--characteristics">\n                    <ul class="modal-card-info__characteristics">\n                        <li class="modal-card-info__characteristics--item">\n                            <p class="modal-card-info__characteristics--name">${h}/${u}</p>\n                            <p class="modal-card-info__data modal-card-info__data--slesh">\n                                <span class="modal-card-info__data--vote">${n}</span>\n                                /\n                                <span class="modal-card-info__data--votes">${s}</span>\n                            </p>\n                        </li>\n                        <li class="modal-card-info__characteristics--item">\n                            <p class="modal-card-info__characteristics--name">${g}</p>\n                            <p class="modal-card-info__data modal-card-info__data--popularity">${r}</p>\n                        </li>\n                        <li class="modal-card-info__characteristics--item">\n                            <p class="modal-card-info__characteristics--name">${m}</p>\n                            <p class="modal-card-info__data modal-card-info__data--original-title">${a}</p>\n                        </li>\n                        <li class="modal-card-info__characteristics--item">\n                            <p class="modal-card-info__characteristics--name">${v}</p>\n                            <p class="modal-card-info__data modal-card-info__data--genre">${l.join(", ")}</p>\n                        </li>\n                    </ul>\n                    \n                </div>\n                <h3 class="modal-card-info-about__title">${p}</h3>\n                <p class="modal-card-info-about__description">${e}</p>\n            </div>\n            \n        </div>\n    \n    `}let ie=new N("userPreferences").getPreferences().language;async function ae(e){if(e.preventDefault(),"IMG"===e.target.nodeName||"H2"===e.target.nodeName||"SPAN"===e.target.nodeName||"P"===e.target.nodeName){let t;e.path.map((e=>{if("movie-card"===e.className)return t=e.getAttribute("data-movie-id"),t}));const i=new T({language:ie}),a=await i.getMovie({movieId:t});try{console.log(a),s.backdrop.classList.remove("js-hidden"),s.body.classList.add("js-modal-is-open"),s.modalContainer.innerHTML=te(a),s.modalAddToWatchedBtn.addEventListener("click",se),s.modalAddToQueueBtn.addEventListener("click",oe),a.homepage&&(s.modalOpenMovie.classList.remove("js-hidden"),s.modalOpenMovie.addEventListener("click",ne))}catch(e){console.log("somthing wrong with modal content"),console.log(e)}}}function ne(e){e.preventDefault(),console.log("відкриваємо фільм")}function se(e){console.log("we need to change btn ADD TO WATCHED text container"),s.modalAddToWatchedBtn.textContent=o[ie].buttons.removeFromWatched}function oe(e){console.log("we need to change btn ADD TO QUEUE text container"),s.modalAddToQueueBtn.textContent=o[ie].buttons.removeFromQueue}function re({genres:e,poster_path:t,release_date:i,title:a,vote_average:n,id:s}){if(0===e.length)return;i=i.slice(0,4),(e=e.map((e=>`<li class="movie-card_genres">${e},</li>`))).length>2&&(e=e.slice(0,2)).push('<li class="movie-card_genres">Other</li>');const o=`${a} poster`;return`<article class="movie-card" data-movie-id="${s}">\n    <h2 class="visually_hidden">${a}</h2>\n    <picture>\n        <source srcset="${Z.getImagePath({path:t})}, 1x, ${Z.getImagePath({path:t,width:"retina"})}, 2x" type="image/jpeg">\n        <img class="movie-card_img" src= "${Z.getImagePath({path:t})} " alt=${o}>\n    </picture>\n    <h2 class="movie-card_title">${a}</h2>\n    <div class="movie-card_info">\n    <ul class = "movie-card_list">\n        ${e.join("")}\n        </ul>\n        <p class="movie-card_symbol">|</p>\n        <p class="movie-card_date">${i}</p>\n        <p class="movie-card_avarage__accent">${n}</p>\n    </div>\n</article>`}function le({loader:e,target:t,content:i}){t.removeEventListener("click",ae),e(i).then((e=>{const i=e.results.map((e=>re(e))).join("");t.innerHTML=i,t.addEventListener("click",ae)})).catch((e=>{t.innerHTML="content doesn't exist"}))}var ce=new WeakMap,de=new WeakMap,he=new WeakMap,ue=new WeakMap,ge=new WeakMap,me=new WeakMap,ve=new WeakSet,pe=new WeakSet,fe=new WeakSet,we=new WeakSet,ye=new WeakSet,be=new WeakSet,_e=new WeakSet,ke=new WeakSet,Me=new WeakSet,Le=new WeakSet;function Se(){s.headerLogo.addEventListener("click",e(y)(this,pe,Pe).bind(this)),s.headerHomeBtn.addEventListener("click",e(y)(this,pe,Pe).bind(this)),s.headerMyLibBtn.addEventListener("click",e(y)(this,we,Ee).bind(this,{isFromHome:!0})),s.searchForm.addEventListener("input",e(y)(this,fe,We).bind(this))}function Pe(){e(y)(this,_e,Ce).call(this),e(y)(this,Le,xe).call(this),e(l)(this,ce).getTrendingMoviesPage({page:1})}function We(t){const i=t.currentTarget.value.trim();if(/^([\s%&#@])*$/.test(i)||/^([>(.*?)<])*$/.test(i))console.log("недопустимі символи & теги");else{if(/^([а-яА-ЯёЁ]*)$/.test(i)&&console.log("тільки кирилиця"),i.length<2)return console.log("Search was not successful. Please, enter another movie name and try again"),!1;console.log("HOORAY! Found total_results movies"),e(l)(this,ue).getMoviesBySearch({query:i,page:1})}}function Ee({page:t=1,isFromHome:i}){i&&(e(y)(this,_e,Ce).call(this),e(y)(this,Me,qe).call(this),s.collectionWatchedBtn.disabled=!1),e(y)(this,ke,Te).call(this),e(l)(this,de).getCollectionMoviesPage({collectionName:r.watched,page:1})}function $e({page:t=1}){e(y)(this,ke,Te).call(this),e(l)(this,de).getCollectionMoviesPage({collectionName:r.queue,page:1})}function Ce(){const e=s.headerHomeBtn.disabled;s.headerHomeBtn.disabled=!e,s.headerMyLibBtn.disabled=e,s.headerLogo.classList.toggle("disabled"),s.headerContainer.classList.toggle(this.myLibraryClass),s.searchFormContainer.classList.toggle(this.hiderClass),s.collectionsBtnsContainer.classList.toggle(this.hiderClass)}function Te(){const e=s.collectionWatchedBtn.disabled;s.collectionWatchedBtn.disabled=!e,s.collectionQueueBtn.disabled=e}function qe(){e(v)(this,ge,e(y)(this,ye,$e).bind(this)),e(v)(this,me,e(y)(this,we,Ee).bind(this,{isFromHome:!1})),s.collectionQueueBtn.addEventListener("click",e(l)(this,ge)),s.collectionWatchedBtn.addEventListener("click",e(l)(this,me))}function xe(){s.collectionQueueBtn.removeEventListener("click",e(l)(this,ge)),s.collectionWatchedBtn.removeEventListener("click",e(l)(this,me))}const{body:Be,backdrop:je,modalCloseBtn:Ae}=s;function Oe(){je.classList.add("js-hidden"),modalContainer.innerHTML="",Be.classList.remove("js-modal-is-open"),Ae.removeEventListener("click",Oe)}Ae.addEventListener("click",Oe),je.addEventListener("click",(function e(t){t.target===t.currentTarget&&(Oe(),je.removeEventListener("click",e))})),window.addEventListener("keydown",(function e(t){"Escape"===t.key&&(Oe(),window.removeEventListener("keydown",e))}));var Re=new WeakMap,He=new WeakMap;var Ne=new WeakMap,Ie=new WeakMap,Fe=new WeakMap;var De=new WeakMap,Ue=new WeakMap;var Ge=new WeakMap;class Qe{switchCaptions({captions:t}){e(v)(this,Ge,t),console.log(e(l)(this,Ge)),s.headerLogoName.textContent=e(l)(this,Ge).logoName,s.headerHomeBtn.textContent=e(l)(this,Ge).buttons.home,s.headerMyLibBtn.textContent=e(l)(this,Ge).buttons.library,s.collectionWatchedBtn.textContent=e(l)(this,Ge).buttons.watched,s.collectionQueueBtn.textContent=e(l)(this,Ge).buttons.queue,s.searchForm.placeholder=e(l)(this,Ge).searchPlaceholder}constructor(){e(u)(this,Ge,{writable:!0,value:void 0})}}var Ke=new WeakMap,ze=new WeakMap;var Je=new WeakMap,Ve=new WeakMap,Ye=new WeakMap,Xe=new WeakMap;const Ze=new N("userPreferences");let et=Ze.getPreferences().language;const tt=new class extends A{getCollectionIdsBundle({collection:t,page:i=1}){if(!this.isCollectionExist({collection:t}))return"collection is empty";if(!this.isPageExist({collection:t,page:i}))return"there is no such page in the collection";this.currentPage[t]=i;const a=(this.currentPage[t]-1)*this.perPage;return{bundle:1===e(l)(this,U)[t]?e(l)(this,D)[t]:e(l)(this,D)[t].slice(a,a+this.perPage),totalPages:e(l)(this,U)[t],page:this.currentPage[t]}}addToCollection({collection:t,id:i}){if(!i||this.isInCollection({collection:t,id:i}))return"this id is already in the collection, or you didn`t spicified an id";e(l)(this,D)[t].push(i),e(y)(this,K,J).call(this)}removeFromCollection({collection:t,id:i=null}){if(!this.isInCollection({collection:t,id:i}))return"there is no such id in the collection";const a=e(l)(this,D)[t].indexOf(i);e(l)(this,D)[t].splice(a,1),e(y)(this,K,J).call(this)}isCollectionExist({collection:t}){return!!e(l)(this,U)[t]}isPageExist({collection:t,page:i=1}){return e(l)(this,U)[t]>=i}isInCollection({collection:t,id:i=null}){return i?e(l)(this,D)[t].includes(i):"there is no such id in the collection"}setCurrentPage({collection:e,newPage:t}){this.currentPage[e]=t}getCurrentPage({collection:e}){return this.currentPage[e]}set perPage(e){this.perPage=e}get perPage(){return this.perPage}resetCurrentPage({collection:e}){this.currentPage[e]=1}constructor(t){super(t),e(b)(this,Q),e(b)(this,K),e(F)(this,"currentPage",{}),e(F)(this,"perPage",9),e(u)(this,D,{writable:!0,value:void 0}),e(u)(this,U,{writable:!0,value:{}}),e(u)(this,G,{writable:!0,value:Object.values(r)}),e(l)(this,G).forEach((e=>{this.currentPage[e]=1})),e(y)(this,Q,z).call(this)}}("userCollections"),it=(new class{showNotification({message:t,type:i="warning"}){t&&Object.keys(e(l)(this,Xe)).includes(i)&&(e(l)(this,Ve).innerHTML=t,e(l)(this,Ve).classList.add(e(l)(this,Xe)[i]),e(l)(this,Ve).classList.remove("js-hidden"),setTimeout((()=>{e(l)(this,Ve).innerHTML="",e(l)(this,Ve).classList.add("js-hidden"),e(l)(this,Ve).classList.remove(e(l)(this,Xe)[i])}),e(l)(this,Ye)))}renderNotification({message:t}){t&&(e(l)(this,Je).innerHtml=`<p class="notifyer__message">${t}</p>`)}constructor({renderTarget:t,timeOut:i}){e(u)(this,Je,{writable:!0,value:void 0}),e(u)(this,Ve,{writable:!0,value:void 0}),e(u)(this,Ye,{writable:!0,value:500}),e(u)(this,Xe,{writable:!0,value:{language:"language",warning:"warning"}}),e(v)(this,Je,t),e(v)(this,Ye,i||e(l)(this,Ye)),document.body.insertAdjacentHTML("beforeend",'<div id="notifier-display" class="notifier-display js-hidden"></div>'),e(v)(this,Ve,document.querySelector("#notifier-display"))}}({renderTarget:s.libraryContainer,timeOut:2e3}),new class{setCurrentLanguage({language:t}){this.captions=o[t],e(l)(this,ze).switchCaptions({captions:this.captions})}get captions(){return this.captions}getCurrentLanguage(){return e(l)(this,Ke)}constructor({userPreferences:t}){e(u)(this,Ke,{writable:!0,value:void 0}),e(u)(this,ze,{writable:!0,value:void 0}),e(F)(this,"captions",void 0),e(v)(this,Ke,t.getPreferences().language),e(v)(this,ze,new Qe),"default"!==e(l)(this,Ke)&&this.setCurrentLanguage({language:e(l)(this,Ke)})}}({userPreferences:Ze}),new T({language:et})),at=new class{getTrendingMoviesPage({page:t=1}){const i=e(l)(this,Re).getTrendingMovies.bind(e(l)(this,Re),{page:t});e(l)(this,He).call(this,{loader:i,target:s.libraryContainer})}constructor({apiService:t,markupRender:i}){e(u)(this,Re,{writable:!0,value:void 0}),e(u)(this,He,{writable:!0,value:void 0}),e(v)(this,Re,t),e(v)(this,He,i)}}({apiService:it,markupRender:le}),nt=new class{getCollectionMoviesPage({collectionName:t,page:i=1}){if(!e(l)(this,Fe).isCollectionExist({collection:t}))return console.log(`collection ${t} does not exist`);if(!e(l)(this,Fe).isPageExist({collection:t,page:i}))return console.log(`page ${i} does not exist in the collection ${t}`);const a=e(l)(this,Fe).getCollectionIdsBundle({collection:t,page:i}),n=e(l)(this,Ne).getMoviesBundle.bind(e(l)(this,Ne));e(l)(this,Ie).call(this,{loader:n,target:s.libraryContainer,content:a})}constructor({apiService:t,markupRender:i,collectionsService:a}){e(u)(this,Ne,{writable:!0,value:void 0}),e(u)(this,Ie,{writable:!0,value:void 0}),e(u)(this,Fe,{writable:!0,value:void 0}),e(v)(this,Ne,t),e(v)(this,Fe,a),e(v)(this,Ie,i)}}({apiService:it,collectionsService:tt,markupRender:le}),st=new class{getMovieById({movieId:t}){e(l)(this,V).getMovie.bind(e(l)(this,V),{movieId:t})}constructor({apiService:t,markupRender:i,currentLanguage:a}){e(u)(this,V,{writable:!0,value:void 0}),e(u)(this,Y,{writable:!0,value:void 0}),e(u)(this,X,{writable:!0,value:void 0}),e(v)(this,V,t),e(v)(this,Y,i),e(v)(this,X,a)}}({apiService:it}),ot=new class{getMoviesBySearch({query:t,page:i=1}){const a=e(l)(this,De).searchMovies.bind(e(l)(this,De),{query:t,page:i});e(l)(this,Ue).call(this,{loader:a,target:s.libraryContainer})}constructor({apiService:t,markupRender:i}){e(u)(this,De,{writable:!0,value:void 0}),e(u)(this,Ue,{writable:!0,value:void 0}),e(v)(this,De,t),e(v)(this,Ue,i)}}({apiService:it,markupRender:le});new class{constructor({trendingHandler:t,collectionHandler:i,modalHandler:a,searchHandler:n}){e(b)(this,ve),e(b)(this,pe),e(b)(this,fe),e(b)(this,we),e(b)(this,ye),e(b)(this,be),e(b)(this,_e),e(b)(this,ke),e(b)(this,Me),e(b)(this,Le),e(u)(this,ce,{writable:!0,value:void 0}),e(u)(this,de,{writable:!0,value:void 0}),e(u)(this,he,{writable:!0,value:void 0}),e(u)(this,ue,{writable:!0,value:void 0}),e(u)(this,ge,{writable:!0,value:void 0}),e(u)(this,me,{writable:!0,value:void 0}),e(v)(this,ce,t),e(v)(this,de,i),e(v)(this,he,a),e(v)(this,ue,n),this.hiderClass="js-hidden",this.myLibraryClass="my-library",e(y)(this,ve,Se).call(this),e(y)(this,pe,Pe).call(this)}}({trendingHandler:at,collectionHandler:nt,modalHandler:st,searchHandler:ot});
//# sourceMappingURL=index.c3cb3bc3.js.map
