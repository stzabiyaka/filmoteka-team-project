function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},t.parcelRequired7c6=n),n.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,a){if(!t.has(e))throw new TypeError("attempted to "+a+" private field on non-instance");return t.get(e)}})),n.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),n.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),n.register("3LGG3",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,a){if(t.set)t.set.call(e,a);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=a}}}));var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t){var a=s.default(e,t,"get");return r.default(e,a)};var s=l(n("fExtF")),r=l(n("iaRLo"));function l(e){return e&&e.__esModule?e:{default:e}}var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t,a){u.default(e,t),t.set(e,a)};var c,u=(c=n("7K24o"))&&c.__esModule?c:{default:c};var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(e,t,a){var i=p.default(e,t,"set");return f.default(e,i,a),a};var p=g(n("fExtF")),f=g(n("3LGG3"));function g(e){return e&&e.__esModule?e:{default:e}}var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(e,t,a){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return a};var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=function(e,t){_.default(e,t),t.add(e)};var _=function(e){return e&&e.__esModule?e:{default:e}}(n("7K24o"));var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a;return e};var y=new WeakMap,w=new WeakMap,S=new WeakSet,M=new WeakSet,P=new WeakSet,$=new WeakSet;async function E(e){const t=await fetch(e);if(!t.ok)throw new Error(t.status);return await t.json()}async function k(t){const a=e(m)(this,$,A).call(this,t),i=`${e(o)(this,w)}/${this.URL_PARAMETERS.genres}?api_key=${e(o)(this,y)}&language=${a}`,n=await e(m)(this,S,E).call(this,i);this.genres=n.genres}function q(e){e.forEach((e=>{e.genre_ids=e.genre_ids.map((e=>this.genres.find((t=>t.id===e)).name))}))}function A(e){return"optional"!==e?this.LANGUAGES.default:this.LANGUAGES.optional}var O=new WeakMap;var R=new WeakMap,x=new WeakSet,T=new WeakSet;class L extends class{save(t){try{const a=JSON.stringify(t);localStorage.setItem(e(o)(this,O),a)}catch(e){console.log("Set state error:",e.message)}}load(){try{let t=localStorage.getItem(e(o)(this,O));return t=null===t?void 0:JSON.parse(t)}catch(e){console.log("Get state error:",e.message)}}remove(){localStorage.removeItem(e(o)(this,O))}constructor(t){e(d)(this,O,{writable:!0,value:void 0}),e(h)(this,O,t)}}{async loadCollection(t){if(void 0===e(o)(this,R)||this.page>this.totalPages)return;const a=(this.page-1)*this.perPage,i=e(o)(this,R).slice(a,a+this.perPage).forEach((e=>{t.getMovie(e)}));return await Promise.all(i)}addToCollection(t){this.isInCollection(t)||(e(o)(this,R).push(t),e(m)(this,T,j).call(this))}removeFromCollection(t){if(!this.isInCollection(t))return;const a=e(o)(this,R).indexOf(t);e(o)(this,R).splice(a,1),e(m)(this,T,j).call(this)}isInCollection(t){return e(o)(this,R).includes(t)}set page(e){this.page=e}get page(){return this.page}set perPage(e){this.perPage=e}get perPage(){return this.perPage}constructor(t){super(t),e(v)(this,x),e(v)(this,T),e(b)(this,"page",void 0),e(b)(this,"perPage",void 0),e(d)(this,R,{writable:!0,value:void 0}),this.totalPages=1,this.perPage=9,this.page=1,e(m)(this,x,W).call(this)}}function W(){e(h)(this,R,this.load()),void 0===e(o)(this,R)&&e(h)(this,R,[]),this.totalPages=Math.ceil(e(o)(this,R).length/this.perPage)}function j(){this.save(e(o)(this,R))}var U=new WeakMap,G=new WeakMap;const C={backdrop:document.querySelector("#backdrop-modal-card"),testOpenModalCard:document.querySelector("#try-to-open-modal-card")};new class{async getTrending(){const t=`${e(o)(this,w)}/${this.URL_PARAMETERS.trending}?api_key=${e(o)(this,y)}&page=${this.page}`,a=await e(m)(this,S,E).call(this,t);return e(m)(this,P,q).call(this,a.results),a}async searchMovies(t,a){const i=e(m)(this,$,A).call(this,a),n=`${e(o)(this,w)}/${this.URL_PARAMETERS.search}?api_key=${e(o)(this,y)}&language=${i}&query=${t}&page=${this.page}&include_adult=false`,s=await e(m)(this,S,E).call(this,n);return e(m)(this,P,q).call(this,s.results),s}async getMovie(t,a){const i=e(m)(this,$,A).call(this,a),n=`${e(o)(this,w)}/${this.URL_PARAMETERS.movieDetails}/${t}?api_key=${e(o)(this,y)}&language=${i}`;return await e(m)(this,S,E).call(this,n)}resetPage(){this.page=1}set page(e){this.page=e}get page(){return this.page}incrementPage(){this.page+=1}decrementPage(){this.page-=1}constructor(){e(v)(this,S),e(v)(this,M),e(v)(this,P),e(v)(this,$),e(d)(this,y,{writable:!0,value:void 0}),e(d)(this,w,{writable:!0,value:void 0}),e(b)(this,"page",void 0),e(h)(this,y,"704d5b04a49684ea4810e36d12ae79df"),e(h)(this,w,"https://api.themoviedb.org/3"),this.URL_PARAMETERS={trending:"trending/movie/day",search:"search/movie",movieDetails:"movie",genres:"genre/movie/list"},this.LANGUAGES={default:"en-US",optional:"uk-UA"},this.page=1,this.genres=null,e(m)(this,M,k).call(this)}},new L("moviesWatched"),new L("moviesQueue"),new class{getImagePath({path:t,width:a="default"}){const i=e(o)(this,G)[a];return`${e(o)(this,U)}${i}${t}`}constructor(){e(d)(this,U,{writable:!0,value:void 0}),e(d)(this,G,{writable:!0,value:void 0}),e(h)(this,U,"https://image.tmdb.org/t/p/"),e(h)(this,G,{default:"w342",retina:"w780",original:"original"})}},document.body,document.querySelector("#logo"),document.querySelector("#home"),document.querySelector("#my-library"),document.querySelector("#collections-nav"),document.querySelector("#watched"),document.querySelector("#queue"),document.querySelector("#search-form"),document.querySelector("#library"),document.querySelector("#backdrop"),document.querySelector("#modal"),document.querySelector("#watched-add"),document.querySelector("#queue-add"),document.querySelector("#modal-close"),document.querySelector("#team");C.testOpenModalCard.addEventListener("click",(function(){C.backdrop.classList.remove("is-hidden"),C.backdrop.insertAdjacentHTML("beforeend",function({about:e,imgSrc:t,imgAlt:a,originalTitle:i,vote:n,votes:o,popularity:s}){return`\n    <div class="modal-card container" id="modal">\n        <button type="button" class="modal-card__close-btn" id="modal-close" title="close window" data-modal-close width="30" height="30">\n            <svg class="modal-card__close-btn-icon" width="14" height="14">\n                <use href="./images/icons.svg#icon-close"></use>\n            </svg>\n        </button>\n        <img class="modal-card__img" src="${t}"\n            alt="${a}" loading="lazy">\n        <div class="modal-card-thumb__content">\n            <div class="modal-card-info">\n                <h2 class="modal-card-info__title">${i}</h2>\n                <p class="modal-card-info__item">\n                    <b>Vote/Votes</b>\n                    <span class="modal-card-info__item--vote">${n}</span>\n                    <span>/</span>\n                    <span class="modal-card-info__item--votes">${o}</span>\n                </p>\n                <p class="modal-card-info__item">\n                    <b>Popularity</b>\n                    <span>${s}</span>\n                </p>\n                <p class="modal-card-info__item modal-card-info__item--last-item">\n                    <b>Original Title</b>\n                    <span>${i}</span>\n                </p>\n                <h3 class="modal-card-info-about__title">About</h3>\n                <p class="modal-card-info-about__description">${e}</p>\n            </div>\n            <div class="modal-card-thumb__btn">\n                <button type="button" id="watched-add" title="add to Watched" class="modal-card-btn__watched">add to Watched</button>\n                <button type="button" id="queue-add" title="add to Queue" class="modal-card-btn__queue">add to queue</button>\n            </div>\n        </div>\n    </div>\n    `}({}))}));
//# sourceMappingURL=index.adc4c38b.js.map
